---
phase: 02-core-workflows
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [commands/gsd/new-project.md, get-shit-done/workflows/create-roadmap.md, commands/gsd/execute-phase.md, get-shit-done/workflows/execute-phase.md]
autonomous: true
---

<objective>
Update project initialization and phase execution workflows to use JJ commands.

Purpose: These files handle repo initialization and phase-level operations. Converting them enables the full project lifecycle to work with JJ.

Output: new-project, create-roadmap, and execute-phase files using JJ patterns
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-jj-foundation/01-01-SUMMARY.md

# JJ reference
@get-shit-done/references/jj-integration.md

# Files to modify
@commands/gsd/new-project.md
@get-shit-done/workflows/create-roadmap.md
@commands/gsd/execute-phase.md
@get-shit-done/workflows/execute-phase.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update new-project.md command for JJ initialization</name>
  <files>commands/gsd/new-project.md</files>
  <action>
Replace git initialization with JJ:

**Repo detection:**
- `[ -d .git ]` → `[ -d .jj ]`
- Check for existing JJ repo before initializing

**Repo initialization:**
- `git init` → `jj git init --colocate`
  (Colocated maintains GitHub compatibility)

**Initial commit:**
- `git add .planning/` → Remove (JJ auto-tracks)
- `git commit -m "docs: initialize..."` → `jj commit -m "docs: initialize..."`

**Push to remote (if applicable):**
- `git push` → `jj git push --bookmark main --allow-new`

Keep all commit message formats - they work with JJ.
  </action>
  <verify>
grep -c "git init" commands/gsd/new-project.md should return 0
grep -c "jj git init" commands/gsd/new-project.md should return 1
  </verify>
  <done>
new-project.md uses JJ for repo init and initial commit. Colocated repo created by default.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update create-roadmap.md workflow for JJ commits</name>
  <files>get-shit-done/workflows/create-roadmap.md</files>
  <action>
Replace git commands with JJ:

**Roadmap commit (git_commit_initialization step):**
- `git add .planning/...` → Remove staging commands
- `git commit -m "docs: create roadmap..."` → `jj commit -m "docs: create roadmap..."`

Keep same commit message format.
  </action>
  <verify>
grep -c "git add" get-shit-done/workflows/create-roadmap.md should return 0
grep -c "jj commit" get-shit-done/workflows/create-roadmap.md should return 1
  </verify>
  <done>
create-roadmap.md uses JJ commit for roadmap creation.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update execute-phase command and workflow for JJ</name>
  <files>commands/gsd/execute-phase.md, get-shit-done/workflows/execute-phase.md</files>
  <action>
Update both execute-phase files:

**Command file (execute-phase.md):**
- Update any git status/log checks to JJ equivalents
- `git status` → `jj status`
- `git log` → `jj log`

**Workflow file (execute-phase.md):**
- Update any git references for phase completion commits
- Replace staging commands with JJ equivalents

Note: Most heavy lifting is in execute-plan.md (already in Plan 01). This file should have minimal git references.
  </action>
  <verify>
grep -c "git " commands/gsd/execute-phase.md should return 0
grep -c "git " get-shit-done/workflows/execute-phase.md should return 0
  </verify>
  <done>
execute-phase command and workflow use JJ for all VCS operations.
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] new-project.md initializes JJ colocated repo
- [ ] create-roadmap.md commits with `jj commit`
- [ ] execute-phase files have no git references
- [ ] All repo detection uses `[ -d .jj ]`
</verification>

<success_criteria>
- Project initialization creates JJ colocated repo
- Roadmap commit uses JJ
- Phase execution uses JJ
- No git references remain in these files
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-workflows/02-02-SUMMARY.md`
</output>
